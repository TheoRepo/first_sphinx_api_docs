<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>用Sphinx快速制作文档 &mdash; test_sphinx 0.1 文档</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/translations.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="prev" title="Welcome to test_sphinx’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> test_sphinx
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">用Sphinx快速制作文档</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">安装Sphinx</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">创建Sphinx项目</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">定义文档结构</a></li>
<li class="toctree-l2"><a class="reference internal" href="#markdown">支持markdown文件、更改文档主题</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">生成文档</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">test_sphinx</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>用Sphinx快速制作文档</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tutorial.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="sphinx">
<h1>用Sphinx快速制作文档<a class="headerlink" href="#sphinx" title="Permalink to this heading"></a></h1>
<p>Sphinx 是一种文档工具, 它可以令人轻松的撰写出清晰且优美的文档, 由 Georg Brandl 在BSD 许可证下开发
新版的Python文档就是由Sphinx生成的,  并且它已成为Python项目首选的文档工具,同时它对 C/C++ 项目也有很好的支持; 并计划对其它开发语言添加特殊支持.
本站当然也是使用 Sphinx 生成的, 它采用reStructuredText! Sphinx还在继续开发. 下面列出了其良好特性,这些特性在Python官方文档中均有体现:</p>
<ul class="simple">
<li><p><strong>丰富的输出格式</strong>: 支持 HTML (包括 Windows 帮助文档), LaTeX (可以打印PDF版本), manual pages（man 文档）, 纯文本</p></li>
<li><p><strong>完备的交叉引用</strong>: 语义化的标签,并可以自动化链接函数,类,引文,术语及相似的片段信息</p></li>
<li><p><strong>明晰的分层结构</strong>: 可以轻松的定义文档树,并自动化链接同级/父级/下级文章</p></li>
<li><p><strong>美观的自动索引</strong>: 可自动生成美观的模块索引</p></li>
<li><p><strong>精确的语法高亮</strong>: 基于 Pygments 自动生成语法高亮</p></li>
<li><p><strong>开放的扩展</strong>: 支持代码块的自动测试,并包含Python模块的自述文档(API docs)等</p></li>
</ul>
<p>Sphinx 使用 reStructuredText 作为标记语言, 可以享有 Docutils 为reStructuredText提供的分析, 转换等多种工具.</p>
<section id="id1">
<h2>安装Sphinx<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h2>
<p>Sphinx为Python语言的一个第三方库。我们需要在终端中输入下列命令进行安装:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">sphinx</span>
</pre></div>
</div>
</section>
<section id="id2">
<h2>创建Sphinx项目<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h2>
<p>创建一个用于存放文档的文件夹, 然后在该文件夹路径下运行下列命令快速生成Sphinx项目:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sphinx</span><span class="o">-</span><span class="n">quickstart</span>
</pre></div>
</div>
<p>接下来会让你选择一些配置:</p>
<ol class="arabic simple">
<li><p>设置文档的根路径（回车, 使用默认设置）</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Enter</span> <span class="n">the</span> <span class="n">root</span> <span class="n">path</span> <span class="k">for</span> <span class="n">documentation</span><span class="o">.</span>
<span class="o">&gt;</span> <span class="n">Root</span> <span class="n">path</span> <span class="k">for</span> <span class="n">the</span> <span class="n">documentation</span> <span class="p">[</span><span class="o">.</span><span class="p">]:</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>是否分离source和build目录（输入y,选择分离, 方便管理）</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">You</span> <span class="n">have</span> <span class="n">two</span> <span class="n">options</span> <span class="k">for</span> <span class="n">placing</span> <span class="n">the</span> <span class="n">build</span> <span class="n">directory</span> <span class="k">for</span> <span class="n">Sphinx</span> <span class="n">output</span><span class="o">.</span>
<span class="n">Either</span><span class="p">,</span> <span class="n">you</span> <span class="n">use</span> <span class="n">a</span> <span class="n">directory</span> <span class="s2">&quot;_build&quot;</span> <span class="n">within</span> <span class="n">the</span> <span class="n">root</span> <span class="n">path</span><span class="p">,</span> <span class="ow">or</span> <span class="n">you</span> <span class="n">separate</span>
<span class="s2">&quot;source&quot;</span> <span class="ow">and</span> <span class="s2">&quot;build&quot;</span> <span class="n">directories</span> <span class="n">within</span> <span class="n">the</span> <span class="n">root</span> <span class="n">path</span><span class="o">.</span>
<span class="o">&gt;</span> <span class="n">Separate</span> <span class="n">source</span> <span class="ow">and</span> <span class="n">build</span> <span class="n">directories</span> <span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="p">[</span><span class="n">n</span><span class="p">]:</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>设定模板前缀（回车, 使用默认选项）</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Inside</span> <span class="n">the</span> <span class="n">root</span> <span class="n">directory</span><span class="p">,</span> <span class="n">two</span> <span class="n">more</span> <span class="n">directories</span> <span class="n">will</span> <span class="n">be</span> <span class="n">created</span><span class="p">;</span> <span class="s2">&quot;_templates&quot;</span>
<span class="k">for</span> <span class="n">custom</span> <span class="n">HTML</span> <span class="n">templates</span> <span class="ow">and</span> <span class="s2">&quot;_static&quot;</span> <span class="k">for</span> <span class="n">custom</span> <span class="n">stylesheets</span> <span class="ow">and</span> <span class="n">other</span> <span class="n">static</span>
<span class="n">files</span><span class="o">.</span> <span class="n">You</span> <span class="n">can</span> <span class="n">enter</span> <span class="n">another</span> <span class="n">prefix</span> <span class="p">(</span><span class="n">such</span> <span class="k">as</span> <span class="s2">&quot;.&quot;</span><span class="p">)</span> <span class="n">to</span> <span class="n">replace</span> <span class="n">the</span> <span class="n">underscore</span><span class="o">.</span>
<span class="o">&gt;</span> <span class="n">Name</span> <span class="n">prefix</span> <span class="k">for</span> <span class="n">templates</span> <span class="ow">and</span> <span class="n">static</span> <span class="nb">dir</span> <span class="p">[</span><span class="n">_</span><span class="p">]:</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>输入项目名称和作者</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">project</span> <span class="n">name</span> <span class="n">will</span> <span class="n">occur</span> <span class="ow">in</span> <span class="n">several</span> <span class="n">places</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">built</span> <span class="n">documentation</span><span class="o">.</span>
<span class="o">&gt;</span> <span class="n">Project</span> <span class="n">name</span><span class="p">:</span> <span class="n">Sphinx</span><span class="o">-</span><span class="n">test</span>
<span class="o">&gt;</span> <span class="n">Author</span> <span class="n">name</span><span class="p">(</span><span class="n">s</span><span class="p">):</span> <span class="n">test</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>输入项目版本号</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Sphinx</span> <span class="n">has</span> <span class="n">the</span> <span class="n">notion</span> <span class="n">of</span> <span class="n">a</span> <span class="s2">&quot;version&quot;</span> <span class="ow">and</span> <span class="n">a</span> <span class="s2">&quot;release&quot;</span> <span class="k">for</span> <span class="n">the</span>
<span class="n">software</span><span class="o">.</span> <span class="n">Each</span> <span class="n">version</span> <span class="n">can</span> <span class="n">have</span> <span class="n">multiple</span> <span class="n">releases</span><span class="o">.</span> <span class="n">For</span> <span class="n">example</span><span class="p">,</span> <span class="k">for</span>
<span class="n">Python</span> <span class="n">the</span> <span class="n">version</span> <span class="ow">is</span> <span class="n">something</span> <span class="n">like</span> <span class="mf">2.5</span> <span class="ow">or</span> <span class="mf">3.0</span><span class="p">,</span> <span class="k">while</span> <span class="n">the</span> <span class="n">release</span> <span class="ow">is</span>
<span class="n">something</span> <span class="n">like</span> <span class="mf">2.5.1</span> <span class="ow">or</span> <span class="mf">3.0</span><span class="n">a1</span><span class="o">.</span>  <span class="n">If</span> <span class="n">you</span> <span class="n">don</span><span class="s1">&#39;t need this dual structure,</span>
<span class="n">just</span> <span class="nb">set</span> <span class="n">both</span> <span class="n">to</span> <span class="n">the</span> <span class="n">same</span> <span class="n">value</span><span class="o">.</span>
<span class="o">&gt;</span> <span class="n">Project</span> <span class="n">version</span> <span class="p">[]:</span> <span class="mf">1.0.0</span>
<span class="o">&gt;</span> <span class="n">Project</span> <span class="n">release</span> <span class="p">[</span><span class="mf">1.0.0</span><span class="p">]:</span>
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>文档语言（回车, 默认即可）</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">If</span> <span class="n">the</span> <span class="n">documents</span> <span class="n">are</span> <span class="n">to</span> <span class="n">be</span> <span class="n">written</span> <span class="ow">in</span> <span class="n">a</span> <span class="n">language</span> <span class="n">other</span> <span class="n">than</span> <span class="n">English</span><span class="p">,</span>
<span class="n">you</span> <span class="n">can</span> <span class="n">select</span> <span class="n">a</span> <span class="n">language</span> <span class="n">here</span> <span class="n">by</span> <span class="n">its</span> <span class="n">language</span> <span class="n">code</span><span class="o">.</span> <span class="n">Sphinx</span> <span class="n">will</span> <span class="n">then</span>
<span class="n">translate</span> <span class="n">text</span> <span class="n">that</span> <span class="n">it</span> <span class="n">generates</span> <span class="n">into</span> <span class="n">that</span> <span class="n">language</span><span class="o">.</span>
<span class="n">For</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">supported</span> <span class="n">codes</span><span class="p">,</span> <span class="n">see</span>
<span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">sphinx</span><span class="o">-</span><span class="n">doc</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">config</span><span class="o">.</span><span class="n">html</span><span class="c1">#confval-language.</span>
<span class="o">&gt;</span> <span class="n">Project</span> <span class="n">language</span> <span class="p">[</span><span class="n">en</span><span class="p">]:</span>
</pre></div>
</div>
<ol class="arabic simple" start="7">
<li><p>设定文档文就按的后缀</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">file</span> <span class="n">name</span> <span class="n">suffix</span> <span class="k">for</span> <span class="n">source</span> <span class="n">files</span><span class="o">.</span> <span class="n">Commonly</span><span class="p">,</span> <span class="n">this</span> <span class="ow">is</span> <span class="n">either</span> <span class="s2">&quot;.txt&quot;</span>
<span class="ow">or</span> <span class="s2">&quot;.rst&quot;</span><span class="o">.</span>  <span class="n">Only</span> <span class="n">files</span> <span class="k">with</span> <span class="n">this</span> <span class="n">suffix</span> <span class="n">are</span> <span class="n">considered</span> <span class="n">documents</span><span class="o">.</span>
<span class="o">&gt;</span> <span class="n">Source</span> <span class="n">file</span> <span class="n">suffix</span> <span class="p">[</span><span class="o">.</span><span class="n">rst</span><span class="p">]:</span>
</pre></div>
</div>
<ol class="arabic simple" start="8">
<li><p>设定首页名称（回车, 选择默认index即可）</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">One</span> <span class="n">document</span> <span class="ow">is</span> <span class="n">special</span> <span class="ow">in</span> <span class="n">that</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">considered</span> <span class="n">the</span> <span class="n">top</span> <span class="n">node</span> <span class="n">of</span> <span class="n">the</span>
<span class="s2">&quot;contents tree&quot;</span><span class="p">,</span> <span class="n">that</span> <span class="ow">is</span><span class="p">,</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">root</span> <span class="n">of</span> <span class="n">the</span> <span class="n">hierarchical</span> <span class="n">structure</span>
<span class="n">of</span> <span class="n">the</span> <span class="n">documents</span><span class="o">.</span> <span class="n">Normally</span><span class="p">,</span> <span class="n">this</span> <span class="ow">is</span> <span class="s2">&quot;index&quot;</span><span class="p">,</span> <span class="n">but</span> <span class="k">if</span> <span class="n">your</span> <span class="s2">&quot;index&quot;</span>
<span class="n">document</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">custom</span> <span class="n">template</span><span class="p">,</span> <span class="n">you</span> <span class="n">can</span> <span class="n">also</span> <span class="nb">set</span> <span class="n">this</span> <span class="n">to</span> <span class="n">another</span> <span class="n">filename</span><span class="o">.</span>
<span class="o">&gt;</span> <span class="n">Name</span> <span class="n">of</span> <span class="n">your</span> <span class="n">master</span> <span class="n">document</span> <span class="p">(</span><span class="n">without</span> <span class="n">suffix</span><span class="p">)</span> <span class="p">[</span><span class="n">index</span><span class="p">]:</span>
</pre></div>
</div>
<ol class="arabic simple" start="9">
<li><p>根据需要选择是否开启epub输出(一般用不到, 回车默认不开启即可)</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Sphinx</span> <span class="n">can</span> <span class="n">also</span> <span class="n">add</span> <span class="n">configuration</span> <span class="k">for</span> <span class="n">epub</span> <span class="n">output</span><span class="p">:</span>
<span class="o">&gt;</span> <span class="n">Do</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">use</span> <span class="n">the</span> <span class="n">epub</span> <span class="n">builder</span> <span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="p">[</span><span class="n">n</span><span class="p">]:</span>
</pre></div>
</div>
<ol class="arabic simple" start="10">
<li><p>根据需求选择是否开启相应的Sphinx拓展功能</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Please</span> <span class="n">indicate</span> <span class="k">if</span> <span class="n">you</span> <span class="n">want</span> <span class="n">to</span> <span class="n">use</span> <span class="n">one</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">Sphinx</span> <span class="n">extensions</span><span class="p">:</span>
<span class="o">&gt;</span> <span class="n">autodoc</span><span class="p">:</span> <span class="n">automatically</span> <span class="n">insert</span> <span class="n">docstrings</span> <span class="kn">from</span> <span class="nn">modules</span> <span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="p">[</span><span class="n">n</span><span class="p">]:</span> <span class="n">y</span>
<span class="o">&gt;</span> <span class="n">doctest</span><span class="p">:</span> <span class="n">automatically</span> <span class="n">test</span> <span class="n">code</span> <span class="n">snippets</span> <span class="ow">in</span> <span class="n">doctest</span> <span class="n">blocks</span> <span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="p">[</span><span class="n">n</span><span class="p">]:</span> <span class="n">y</span>
<span class="o">&gt;</span> <span class="n">intersphinx</span><span class="p">:</span> <span class="n">link</span> <span class="n">between</span> <span class="n">Sphinx</span> <span class="n">documentation</span> <span class="n">of</span> <span class="n">different</span> <span class="n">projects</span> <span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="p">[</span><span class="n">n</span><span class="p">]:</span> <span class="n">y</span>
<span class="o">&gt;</span> <span class="n">todo</span><span class="p">:</span> <span class="n">write</span> <span class="s2">&quot;todo&quot;</span> <span class="n">entries</span> <span class="n">that</span> <span class="n">can</span> <span class="n">be</span> <span class="n">shown</span> <span class="ow">or</span> <span class="n">hidden</span> <span class="n">on</span> <span class="n">build</span> <span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="p">[</span><span class="n">n</span><span class="p">]:</span> <span class="n">y</span>
<span class="o">&gt;</span> <span class="n">coverage</span><span class="p">:</span> <span class="n">checks</span> <span class="k">for</span> <span class="n">documentation</span> <span class="n">coverage</span> <span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="p">[</span><span class="n">n</span><span class="p">]:</span> <span class="n">y</span>
<span class="o">&gt;</span> <span class="n">imgmath</span><span class="p">:</span> <span class="n">include</span> <span class="n">math</span><span class="p">,</span> <span class="n">rendered</span> <span class="k">as</span> <span class="n">PNG</span> <span class="ow">or</span> <span class="n">SVG</span> <span class="n">images</span> <span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="p">[</span><span class="n">n</span><span class="p">]:</span> <span class="n">y</span>
<span class="o">&gt;</span> <span class="n">mathjax</span><span class="p">:</span> <span class="n">include</span> <span class="n">math</span><span class="p">,</span> <span class="n">rendered</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">browser</span> <span class="n">by</span> <span class="n">MathJax</span> <span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="p">[</span><span class="n">n</span><span class="p">]:</span> <span class="n">y</span>
<span class="n">Note</span><span class="p">:</span> <span class="n">imgmath</span> <span class="ow">and</span> <span class="n">mathjax</span> <span class="n">cannot</span> <span class="n">be</span> <span class="n">enabled</span> <span class="n">at</span> <span class="n">the</span> <span class="n">same</span> <span class="n">time</span><span class="o">.</span>
<span class="n">imgmath</span> <span class="n">has</span> <span class="n">been</span> <span class="n">deselected</span><span class="o">.</span>
<span class="o">&gt;</span> <span class="n">ifconfig</span><span class="p">:</span> <span class="n">conditional</span> <span class="n">inclusion</span> <span class="n">of</span> <span class="n">content</span> <span class="n">based</span> <span class="n">on</span> <span class="n">config</span> <span class="n">values</span> <span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="p">[</span><span class="n">n</span><span class="p">]:</span> <span class="n">y</span>
<span class="o">&gt;</span> <span class="n">viewcode</span><span class="p">:</span> <span class="n">include</span> <span class="n">links</span> <span class="n">to</span> <span class="n">the</span> <span class="n">source</span> <span class="n">code</span> <span class="n">of</span> <span class="n">documented</span> <span class="n">Python</span> <span class="n">objects</span> <span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="p">[</span><span class="n">n</span><span class="p">]:</span> <span class="n">y</span>
<span class="o">&gt;</span> <span class="n">githubpages</span><span class="p">:</span> <span class="n">create</span> <span class="o">.</span><span class="n">nojekyll</span> <span class="n">file</span> <span class="n">to</span> <span class="n">publish</span> <span class="n">the</span> <span class="n">document</span> <span class="n">on</span> <span class="n">GitHub</span> <span class="n">pages</span> <span class="p">(</span><span class="n">y</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="p">[</span><span class="n">n</span><span class="p">]:</span> <span class="n">n</span>
</pre></div>
</div>
<ol class="arabic simple" start="11">
<li><p>创建项目</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>A Makefile and a Windows command file can be generated for you so that you
only have to run e.g. `make html&#39; instead of invoking sphinx-build
directly.
&gt; Create Makefile? (y/n) [y]: y
&gt; Create Windows command file? (y/n) [y]: y
Creating file ./conf.py.
Creating file ./index.rst,.md.
Creating file ./Makefile.
Creating file ./make.bat.
Finished: An initial directory structure has been created.
You should now populate your master file ./index.rst,.md and create other documentation
source files. Use the Makefile to build the docs, like so:
    make builder
where &quot;builder&quot; is one of the supported builders, e.g. html, latex or linkcheck.
</pre></div>
</div>
<p>项目创建以后目录结构如下所示:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>.
├── Makefile
├── build
├── make.bat
└── source
    ├── _static
    ├── _templates
    ├── conf.py
    └── index.rst
</pre></div>
</div>
<p>这里先简单说明一下各个文件的作用：</p>
<ul class="simple">
<li><p>build：生成的文件的输出目录</p></li>
<li><p>source: 存放文档源文件</p></li>
<li><p>_static：静态文件目录，比如图片等</p></li>
<li><p>_templates：模板目录</p></li>
<li><p>conf.py：进行 Sphinx 的配置，如主题配置等</p></li>
<li><p>index.rst：文档项目起始文件，用于配置文档的显示结构</p></li>
<li><p>cmd.bat：这是自己加的脚本文件（里面的内容是‘cmd.exe’）,用于快捷的打开windows的命令行</p></li>
<li><p>make.bat：Windows 命令行中编译用的脚本</p></li>
<li><p>Makefile：编译脚本，make 命令编译时用</p></li>
</ul>
</section>
<section id="id3">
<h2>定义文档结构<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h2>
<p>主文档index.rst的主要功能是被转换成欢迎页, 它包含一个目录表（ “table of contents tree”或者 toctree ). Sphinx 主要功能是使用 reStructuredText, 把许多文件组织成一份结构合理的文档.</p>
<p>toctree指令初始值如下:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">toctree</span><span class="p">::</span>
   <span class="p">:</span><span class="n">maxdepth</span><span class="p">:</span> <span class="mi">2</span>
</pre></div>
</div>
<p>你可以在 content 的位置添加文档列表:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">toctree</span><span class="p">::</span>
   <span class="p">:</span><span class="n">maxdepth</span><span class="p">:</span> <span class="mi">2</span>
   <span class="p">:</span><span class="n">caption</span><span class="p">:</span> <span class="n">Contents</span><span class="p">:</span>

   <span class="n">tutorial</span><span class="o">.</span><span class="n">rst</span>

</pre></div>
</div>
<p>注: 文档文件放在与index.rst同级目录下。</p>
</section>
<section id="markdown">
<h2>支持markdown文件、更改文档主题<a class="headerlink" href="#markdown" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Spinx本身不支持.md文件生成文档, 需要我们使用第三方库recommonmark进行转换。 首先分别运行下列命令安装recommonmark与sphinx_rtd_theme库。</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">recommonmark</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">sphinx_rtd_theme</span>
</pre></div>
</div>
<p>安装好, 在conf.py中修改下列两个配置:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#</span>
<span class="n">source_suffix</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;.rst&#39;</span><span class="p">,</span> <span class="s1">&#39;.md&#39;</span><span class="p">,</span> <span class="s1">&#39;.MD&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>并新增：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>
<span class="n">source_parsers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;.md&#39;</span><span class="p">:</span> <span class="n">CommonMarkParser</span><span class="p">,</span>
    <span class="s1">&#39;.MD&#39;</span><span class="p">:</span> <span class="n">CommonMarkParser</span><span class="p">,</span>
</pre></div>
</div>
</section>
<section id="id4">
<h2>生成文档<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h2>
<p>在Sphinx项目所在的文件夹路径下运行下列命令生成文档:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">html</span>
</pre></div>
</div>
<p>生成后的文档位于build/html文件夹内, 用浏览器打开index.html即可看到生成后的文档。</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to test_sphinx’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2022, theo.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>